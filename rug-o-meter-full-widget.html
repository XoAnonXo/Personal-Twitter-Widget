<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full Rug-O-Meter Widget</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 20px;
            color: #333;
            line-height: 1.6;
        }

        .widget-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .rug-meter-widget {
            width: 920px;
            height: 730px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            font-size: 12px;
            overflow-y: auto;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
            scrollbar-width: thin;
            scrollbar-color: #cbd5e1 #f1f5f9;
        }

        .rug-meter-widget::-webkit-scrollbar {
            width: 6px;
        }

        .rug-meter-widget::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }

        .rug-meter-widget::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        .rug-meter-widget::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e5e7eb;
        }

        .widget-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .analyze-btn {
            background: #8B5CF6;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 12px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .analyze-btn:hover {
            background: #7C3AED;
        }

        .analyze-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            flex: 1;
        }

        .left-column {
            display: flex;
            flex-direction: column;
        }

        .right-column {
            display: flex;
            flex-direction: column;
        }

        .input-section {
            margin-bottom: 16px;
        }

        .input-label {
            font-size: 12px;
            font-weight: 500;
            color: #333;
            margin-bottom: 8px;
        }

        .token-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 11px;
            background: #f9fafb;
            transition: border-color 0.2s ease;
        }

        .token-input:focus {
            outline: none;
            border-color: #8B5CF6;
            background: white;
        }

        .meter-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 8px;
        }

        .rug-meter {
            width: 400px;
            height: 40px;
            background: linear-gradient(to right, #10b981 0%, #f59e0b 50%, #ef4444 100%);
            border-radius: 20px;
            position: relative;
            margin-bottom: 16px;
            border: 3px solid #e5e7eb;
        }

        .meter-needle {
            position: absolute;
            top: -4px;
            width: 8px;
            height: 48px;
            background: #333;
            border-radius: 4px;
            transition: left 0.5s ease;
            transform: translateX(-50%);
        }

        .risk-level {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            padding: 6px 16px;
            border-radius: 8px;
        }

        .risk-low {
            background: #dcfce7;
            color: #166534;
        }

        .risk-medium {
            background: #fef3c7;
            color: #92400e;
        }

        .risk-high {
            background: #fee2e2;
            color: #991b1b;
        }

        .risk-extreme {
            background: #fecaca;
            color: #7f1d1d;
        }

        .risk-description {
            font-size: 11px;
            color: #666;
            margin-bottom: 12px;
            font-style: italic;
            text-align: center;
            max-width: 300px;
        }

        .analysis-status {
            font-size: 11px;
            color: #8B5CF6;
            margin-top: 12px;
            padding: 6px 12px;
            background: #f3f4f6;
            border-radius: 6px;
            text-align: center;
        }

        .loading-spinner {
            display: inline-block;
            width: 14px;
            height: 14px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #8B5CF6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 6px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .token-info {
            background: #f8fafc;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .token-info h4 {
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        .token-info div {
            font-size: 11px;
            color: #666;
            margin-bottom: 6px;
            display: flex;
            justify-content: space-between;
        }

        .token-info strong {
            color: #333;
        }

        .risk-factors {
            background: #f8fafc;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .risk-factors h4 {
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        .risk-factor {
            font-size: 11px;
            color: #666;
            margin-bottom: 8px;
            padding: 6px 8px;
            border-radius: 4px;
            display: flex;
            align-items: center;
        }

        .risk-factor.high {
            background: #fee2e2;
            color: #991b1b;
        }

        .risk-factor.medium {
            background: #fef3c7;
            color: #92400e;
        }

        .risk-factor.low {
            background: #dcfce7;
            color: #166534;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }

        .metric-card {
            background: #f8fafc;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .metric-card h5 {
            font-size: 11px;
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
        }

        .metric-value {
            font-size: 13px;
            font-weight: 600;
            color: #333;
        }

        .metric-value.good {
            color: #166534;
        }

        .metric-value.warning {
            color: #92400e;
        }

        .metric-value.danger {
            color: #991b1b;
        }

        .recommendation {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .recommendation h4 {
            font-size: 13px;
            font-weight: 600;
            color: #0c4a6e;
            margin-bottom: 8px;
        }

        .recommendation p {
            font-size: 11px;
            color: #0c4a6e;
            line-height: 1.5;
        }

        .report-content {
            flex: 1;
            overflow-y: auto;
            padding: 0 20px;
        }

        .report-header {
            text-align: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #e5e7eb;
        }

        .report-header h2 {
            font-size: 20px;
            font-weight: 700;
            color: #333;
            margin-bottom: 12px;
        }

        .report-meta {
            font-size: 12px;
            color: #666;
        }

        .report-meta p {
            margin-bottom: 4px;
        }

        .report-meta code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }

        .report-section {
            margin-bottom: 24px;
            padding: 16px;
            background: #f8fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .report-section h3 {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        .report-section p {
            font-size: 12px;
            color: #666;
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 16px;
        }

        .overview-item {
            font-size: 12px;
            color: #333;
            padding: 6px 0;
        }

        .security-analysis {
            margin-top: 16px;
        }

        .security-analysis h4 {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .security-item {
            font-size: 12px;
            color: #333;
            margin-bottom: 4px;
        }

        .security-item code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }

        .liquidity-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 16px;
        }

        .liquidity-item {
            font-size: 12px;
            color: #333;
            padding: 6px 0;
        }

        .dex-distribution h4 {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .dex-item {
            font-size: 12px;
            color: #333;
            margin-bottom: 4px;
        }

        .risk-assessment {
            background: white;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .risk-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding: 12px;
            background: #f0f9ff;
            border-radius: 6px;
        }

        .risk-score-large {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .risk-level-large {
            font-size: 14px;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 6px;
        }

        .risk-level-large.risk-medium {
            background: #fef3c7;
            color: #92400e;
        }

        .contributing-factors h4 {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .factor-item {
            font-size: 12px;
            color: #333;
            margin-bottom: 4px;
        }

        .risk-summary-text h4 {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .risk-summary-text ol {
            font-size: 12px;
            color: #333;
            margin-left: 16px;
        }

        .risk-summary-text li {
            margin-bottom: 4px;
        }

        .ai-analysis {
            background: white;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .analysis-point {
            margin-bottom: 16px;
        }

        .analysis-point h4 {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .analysis-point p {
            font-size: 12px;
            color: #666;
            line-height: 1.5;
        }

        .overall-assessment {
            background: #fef3c7;
            padding: 12px;
            border-radius: 6px;
            text-align: center;
            margin-top: 16px;
        }

        .overall-assessment h4 {
            font-size: 16px;
            font-weight: 700;
            color: #92400e;
            margin: 0;
        }

        .report-footer {
            text-align: center;
            margin-top: 24px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
        }

        .report-footer p {
            font-size: 11px;
            color: #666;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .widget-container {
                padding: 10px;
            }
            .rug-meter-widget {
                width: 100%;
                max-width: 920px;
                margin: 0 auto;
            }
            .content-grid {
                grid-template-columns: 1fr;
            }
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .rug-meter-widget {
                width: 100%;
                max-width: 100%;
                height: auto;
                min-height: 730px;
            }
        }
    </style>
</head>
<body>
    <div class="widget-container">
        <div class="rug-meter-widget">
            <div class="widget-header">
                <div class="widget-title">🚨 Rug-O-Meter</div>
                <button class="analyze-btn" onclick="analyzeToken()">Analyze Token</button>
            </div>

            <div class="report-content" id="reportContent">
                <div class="report-header">
                    <h2>🔍 Coin Security Analysis Report</h2>
                    <div class="report-meta">
                        <p><strong>Chain:</strong> Solana</p>
                        <p><strong>Token:</strong> 苹果链 (苹果链)</p>
                        <p><strong>Address:</strong> <code>9E325nGcPH5kGWMKjsZD1Q2B4xLNhpyd5nMrbV8s2dT9</code></p>
                        <p><strong>Generated:</strong> 2025-10-08T17:17:42.728Z</p>
                    </div>
                </div>

                <div class="report-section">
                    <h3>📊 Token Overview</h3>
                    <div class="token-overview">
                        <div class="overview-grid">
                            <div class="overview-item">
                                <strong>Name:</strong> 苹果链
                            </div>
                            <div class="overview-item">
                                <strong>Symbol:</strong> 苹果链
                            </div>
                            <div class="overview-item">
                                <strong>Supply:</strong> 999988175341545
                            </div>
                            <div class="overview-item">
                                <strong>Holders:</strong> 2,718
                            </div>
                            <div class="overview-item">
                                <strong>Market Cap:</strong> $286,315.649
                            </div>
                            <div class="overview-item">
                                <strong>Price:</strong> $0.0002863156493457358
                            </div>
                        </div>
                        
                        <div class="security-analysis">
                            <h4>Security Analysis:</h4>
                            <div class="security-item">
                                <strong>Mint Authority:</strong> ✅ ✅ <strong>None</strong> (Immutable)
                            </div>
                            <div class="security-item">
                                <strong>Freeze Authority:</strong> ✅ ✅ <strong>None</strong> (Immutable)
                            </div>
                            <div class="security-item">
                                <strong>Creator:</strong> <code>7hnTzCVKCa3ToiKC8wgFHzc2s5jRBVDwwg5DpffUKjUu</code>
                            </div>
                            <div class="security-item">
                                <strong>Created:</strong> 10/8/2025, 3:10:18 AM
                            </div>
                        </div>
                    </div>
                </div>

                <div class="report-section">
                    <h3>💧 Liquidity Analysis</h3>
                    <p>This section analyzes the token's liquidity across different DEX platforms to understand trading patterns and market availability.</p>
                    
                    <div class="liquidity-overview">
                        <div class="liquidity-grid">
                            <div class="liquidity-item">
                                <strong>Total Liquidity USD:</strong> $85,695.75
                            </div>
                            <div class="liquidity-item">
                                <strong>Total Buys (24h):</strong> 32,038
                            </div>
                            <div class="liquidity-item">
                                <strong>Total Sells (24h):</strong> 26,877
                            </div>
                            <div class="liquidity-item">
                                <strong>Total Volume (24h):</strong> $8,922,616.16
                            </div>
                            <div class="liquidity-item">
                                <strong>Buy/Sell Ratio:</strong> 1.19
                            </div>
                        </div>
                        
                        <div class="dex-distribution">
                            <h4>DEX Distribution:</h4>
                            <div class="dex-item">
                                <strong>PUMPSWAP:</strong> $77,353.93 (24h: 28768 buys, 23360 sells)
                            </div>
                            <div class="dex-item">
                                <strong>METEORA:</strong> $8,269.99 (24h: 2823 buys, 2955 sells)
                            </div>
                            <div class="dex-item">
                                <strong>RAYDIUM:</strong> $71.83 (24h: 447 buys, 562 sells)
                            </div>
                        </div>
                    </div>
                </div>

                <div class="report-section">
                    <h3>🚨 Combined Risk Assessment</h3>
                    <p>This section combines insights from both funding source and token acquisition analysis to provide an overall risk assessment.</p>
                    
                    <div class="risk-assessment">
                        <div class="risk-summary">
                            <div class="risk-score-large">
                                <strong>Combined Risk Score:</strong> 31.35/100
                            </div>
                            <div class="risk-level-large risk-medium">
                                <strong>Risk Level:</strong> MEDIUM
                            </div>
                        </div>
                        
                        <div class="contributing-factors">
                            <h4>Contributing Factors:</h4>
                            <div class="factor-item">
                                <strong>Funding Chain Risk:</strong> 28.64/100
                            </div>
                            <div class="factor-item">
                                <strong>Token Source Risk:</strong> 52.75/100
                            </div>
                            <div class="factor-item">
                                <strong>Cross-Analysis Correlation:</strong> 0.00/100
                            </div>
                        </div>
                        
                        <div class="risk-summary-text">
                            <h4>Summary:</h4>
                            <ol>
                                <li>MODERATE RISK: Some coordination indicators present, requires careful monitoring</li>
                                <li>Token distribution shows 0 critical pattern(s) with 52.7/100 risk score</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="report-section">
                    <h3>🤖 AI Expert Analysis</h3>
                    <div class="ai-analysis">
                        <div class="analysis-point">
                            <h4>1. Token Overview</h4>
                            <p>The token has 2,718 holders with a market cap of approximately $286K and a supply of 999,988,175341545 (with 6 decimals). Both the Mint Authority and Freeze Authority are set to null (immutable), which is positive. There is no risk associated with these controls since neither authority is active.</p>
                        </div>
                        
                        <div class="analysis-point">
                            <h4>2. Liquidity</h4>
                            <p>Total liquidity is reported at ~$85,695 USD with an impressive 24h volume of nearly $8.92M and a buy/sell ratio of 1.19. The majority of liquidity (over 90%) is concentrated on PUMPSWAP (approximately $77,354), while METEORA accounts for about $8,270 and RAYDIUM for a negligible ~$72.</p>
                        </div>
                        
                        <div class="analysis-point">
                            <h4>3. Funding Source Analysis</h4>
                            <p>Funding source charts indicate three main clusters: "Binance + Pump.fun + T..." (57.35% of addresses), "Unknown exchange" (33.82%), and "Coinbase" (8.82%). There's no evidence of overwhelming centralisation, and the overall funding risk score of 28.64/100 (LOW) appears justified.</p>
                        </div>
                        
                        <div class="analysis-point">
                            <h4>4. Token Source Analysis</h4>
                            <p>The first token transaction for holders originates from a central source labeled as "Token_creator + Pump.fun" with an associated cross-chain bridge mechanism. Although the risk score here is 52.75/100 (MEDIUM), the cross-chain minter exception applies – coordinated batch distributions from a recognized cross-chain source are acceptable if properly validated.</p>
                        </div>
                        
                        <div class="analysis-point">
                            <h4>5. Combined Risk Assessment</h4>
                            <p>The automated risk scores from both funding (28.64/100) and token source (52.75/100) analyses combine to yield an overall risk score of 31.35/100, categorized as MEDIUM. The secure token authorities, the fact that traditional exchange-related funding sources dominate, and the recognized cross-chain distribution mechanism help mitigate what might otherwise have been a higher risk.</p>
                        </div>
                        
                        <div class="overall-assessment">
                            <h4>OVERALL RISK ASSESSMENT: 🟡 MEDIUM</h4>
                        </div>
                    </div>
                </div>

                <div class="report-footer">
                    <p><em>This report was generated automatically. Manual review is recommended for critical findings.</em></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function analyzeToken() {
            const tokenAddress = document.getElementById('tokenAddress').value.trim();
            const analyzeBtn = document.querySelector('.analyze-btn');
            
            if (!tokenAddress || tokenAddress.length < 42) {
                alert('Please enter a valid token address');
                return;
            }

            // Show loading state
            analyzeBtn.disabled = true;
            analyzeBtn.innerHTML = '<span class="loading-spinner"></span> Analyzing...';

            // Simulate analysis
            setTimeout(() => {
                // Hide loading state
                analyzeBtn.disabled = false;
                analyzeBtn.innerHTML = 'Analyze Token';
                
                // Show success message
                alert('Analysis complete! Report displayed below.');
            }, 2000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Report is already displayed with real data
        });
    </script>
</body>
</html>
